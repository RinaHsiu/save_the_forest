def on_fire_created(location):
    scene.create_particle_effect_at_location(location, effects.fire)
    sprites.set_flame_strength(location, 5)
    music.siren.play()
sprites.on_fire_created(on_fire_created)

def on_left_pressed():
    animation.run_image_animation(myPlane,
        [img("""
            .111111111....dd....................
            ...ddddddddddd1d11111111111.........
            ..............dd....ddddddddd.......
            ..........ffdfdf6f6f................
            .........f6999966666f...............
            ........f699d99f66686f..............
            .......f69d99999666886f.............
            ......f69999999f6666166f............
            .....f669999999f66616166f.........6f
            .....f686999998f86681686f........6ff
            .....f888888686886868886fff.....6fff
            .....f88868f888f888888888fffffffffff
            .....f886888f88f88188188ffffffffffff
            .....8f888888fff8888888fffff........
            .......ff888888888888fffff..........
            ........ffffffffffffffff............
            ..........f........f................
            ......fff.f........f................
            ......ffffffffffffffffff............
            ....................................
        """),
            img("""
                ........111111dd....................
                .........ddddd1d111111..............
                ..............ddddddddd.............
                ..........ffdfdf6f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d9999f666886f.............
                ......f6999999996666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
            """),
            img("""
                ..............dd....................
                .............d1ddd..................
                ............ddddd...................
                ..........ff8f8f8f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d9999f666886f.............
                ......f6999999996666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
                """),
            img("""
                ..............dd111111..............
                ........1111111dddddd...............
                .......ddddddddd....................
                ..........ffdfdf6f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d9999f666886f.............
                ......f6999999996666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
                """),
            img("""
                ..............dd....111111111.......
                ...111111111111dddddddddddd.........
                .ddddddddd....dd....................
                ..........ffdfdf6f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d9999f666886f.............
                ......f6999999996666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
                """),
            img("""
                ..............dd111111..............
                ........1111111dddddd...............
                .......ddddddddd....................
                ..........ffdfdf6f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d9999f666886f.............
                ......f6999999996666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
                """),
            img("""
                ..............dd111111..............
                ........1111111dddddd...............
                .......ddddddddd....................
                ..........ffdfdf6f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d9999f666886f.............
                ......f69999999f6666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
                """),
            img("""
                ..............dd....................
                .............d1ddd..................
                ............ddddd...................
                ..........ff8f8f8f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d9999f666886f.............
                ......f6999999996666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
                """),
            img("""
                ........111111dd....................
                .........ddddd1d111111..............
                ..............ddddddddd.............
                ..........ffdfdf6f6f................
                .........f6999966666f...............
                ........f699d99966686f..............
                .......f69d99999666886f.............
                ......f69999999f6666166f............
                .....f669999999f66616166f.........6f
                .....f686999998f86681686f........6ff
                .....f888888686886868886fff.....6fff
                .....f88868f888f888888888fffffffffff
                .....f886888f88f88188188ffffffffffff
                .....8f888888fff8888888fffff........
                .......ff888888888888fffff..........
                ........ffffffffffffffff............
                ..........f........f................
                ......fff.f........f................
                ......ffffffffffffffffff............
                ....................................
                """)],
        100,
        True)
controller.left.on_event(ControllerButtonEvent.PRESSED, on_left_pressed)

def on_fire_destroyed(location2):
    scene.clear_particle_effects_at_location(location2)
    tiles.set_tile_at(location2, assets.tile("""
        burnt tree
        """))
    music.thump.play()
sprites.on_fire_destroyed(on_fire_destroyed)

def on_right_pressed():
    animation.run_image_animation(myPlane,
        [img("""
                ....................dd....111111111.
                .........11111111111d1ddddddddddd...
                .......ddddddddd....dd..............
                ................f6f6fdfdff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f68866699999d96f.......
                ............f6616666f99999996f......
                f6.........f66161666f999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """),
            img("""
                ....................dd111111........
                ..............111111d1ddddd.........
                .............ddddddddd..............
                ................f6f6fdfdff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f688666f9999d96f.......
                ............f6616666999999996f......
                f6.........f66161666f999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """),
            img("""
                ....................dd..............
                ..................ddd1d.............
                ...................ddddd............
                ................f6f8f8f8ff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f688666f9999d96f.......
                ............f6616666999999996f......
                f6.........f66161666f999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """),
            img("""
                ..............111111dd..............
                ...............dddddd1111111........
                ....................ddddddddd.......
                ................f6f6fdfdff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f688666f9999d96f.......
                ............f6616666f99999996f......
                f6.........f661616669999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """),
            img("""
                .......111111111....dd..............
                .........dddddddddddd111111111111...
                ....................dd....ddddddddd.
                ................f6f6fdfdff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f68866699999d96f.......
                ............f6616666f99999996f......
                f6.........f66161666f999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """),
            img("""
                ..............111111dd..............
                ...............dddddd1111111........
                ....................ddddddddd.......
                ................f6f6fdfdff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f688666f9999d96f.......
                ............f6616666999999996f......
                f6.........f66161666f999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """),
            img("""
                ....................dd..............
                ..................ddd1d.............
                ...................ddddd............
                ................f6f8f8f8ff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f68866699999d96f.......
                ............f6616666f99999996f......
                f6.........f66161666f999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """),
            img("""
                ....................dd111111........
                ..............111111d1ddddd.........
                .............ddddddddd..............
                ................f6f6fdfdff..........
                ...............f6666699996f.........
                ..............f68666999d996f........
                .............f688666f9999d96f.......
                ............f6616666999999996f......
                f6.........f66161666f999999966f.....
                ff6........f68618668f899999686f.....
                fff6.....fff688868688686888888f.....
                fffffffffff888888888f888f86888f.....
                ffffffffffff88188188f88f888688f.....
                ........fffff8888888fff888888f8.....
                ..........fffff888888888888ff.......
                ............ffffffffffffffff........
                ................f........f..........
                ................f........f.fff......
                ............ffffffffffffffffff......
                ....................................
                """)],
        100,
        True)
controller.right.on_event(ControllerButtonEvent.PRESSED, on_right_pressed)

def on_overlap_tile(sprite, location3):
    sprites.change_flame_strength_by(location3, -1)
    sprite.destroy()
scene.on_overlap_tile(SpriteKind.water,
    assets.tile("""
        tree fire
        """),
    on_overlap_tile)

def on_a_repeated():
    sprites.spray(myPlane,
        img("""
            9 8 9 8
            9 9 8 9
            8 9 9 9
            9 8 9 8
        """))
controller.A.on_event(ControllerButtonEvent.REPEATED, on_a_repeated)

myPlane: Sprite = None
game.set_health_of_trees(7)
game.set_strength_of_wind(2)
game.set_dryness_of_grass(2)
myPlane = sprites.create(img("""
        ....................dd....111111111.
        .........11111111111d1ddddddddddd...
        .......ddddddddd....dd..............
        ................f6f6fdfdff..........
        ...............f6666699996f.........
        ..............f68666999d996f........
        .............f688666f9999d96f.......
        ............f6616666999999996f......
        f6.........f66161666f999999966f.....
        ff6........f68618668f899999686f.....
        fff6.....fff688868688686888888f.....
        fffffffffff888888888f888f86888f.....
        ffffffffffff88188188f88f888688f.....
        ........fffff8888888fff888888f......
        ..........fffff888888888888ff.......
        ............ffffffffffffffff........
        ................f........f..........
        ................f........f.fff......
        ............ffffffffffffffffff......
        ....................................
        """),
    SpriteKind.player)
controller.move_sprite(myPlane)
scene.camera_follow_sprite(myPlane)
for index in range(5):
    sprites.create_spreading_fire(assets.tile("""
            tree
            """),
        assets.tile("""
            tree fire
            """))
hud.fire_hud(True)
hud.danger_hud(True)
hud.forest_hud(True)

def on_on_update():
    sprites.random_spread()
game.on_update(on_on_update)
